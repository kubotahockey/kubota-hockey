{% extends "base.html" %}
{% block title %}Player Dashboard{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="text-center text-white mb-4"><i class="fas fa-user"></i> Player Dashboard</h1>
    <div class="form-group text-center">
        <label for="playerSearch" class="text-white">Search for a Player:</label>
        <input type="text" class="form-control bg-dark text-light mx-auto" id="playerSearch" placeholder="Enter player name..." title="Type to search for a player" style="max-width: 500px;">
        <ul class="list-group bg-dark mt-2 mx-auto" id="searchResults" style="max-width: 500px;"></ul>
    </div>
   <div><button id="exportButton" class="btn btn-primary mb-4">Export to PNG</button></div>
    <div class="row mb-4">
        <div class="col-sm-4" id="playerStats"></div>
        <div class="col-sm-8" id="playerChart"></div>
    </div>
    <div id="playerProjections" class="row mb-4"></div>

    <div id="playerPercentiles" class="row mb-4"></div>

    <h2 class="text-center text-white mt-4">Player Comparables</h2>
    <div id="playerComparisons" class="row mt-4"></div>
    
</div>

<!-- Link to global stylesheet -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

<!-- Include Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Include custom scripts -->
<script src="{{ url_for('static', filename='js/scripts.js') }}"></script>

<!-- Pass the players list to JavaScript -->
<script id="playersList" type="application/json">{{ players | tojson }}</script>

<!-- Pass the random player name to JavaScript -->
<script id="randomPlayerName" type="application/json">{{ random_player | tojson }}</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.3.2/dist/html2canvas.min.js"></script>

{% endblock %}
